<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Colita de Rana 🌿</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/png" href="favicon.png" />

  <!-- Chart.js still loaded for other visualizations -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- ✅ New: Plotly for 3D Mapa energético -->
  <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
</head>
<body>
  <!-- ============ LANDING PAGE ============ -->
  <div id="landing-page" class="page active">
    <div class="container">
      <header class="app-header">
        <h1 class="brand-name">🌿 Colita de Rana</h1>
      </header>

      <section class="hero">
        <h2 class="hero-title">
          Tu ciclo es único.<br />
          Tu medicina también.
        </h2>
        <p class="hero-subtitle">
          Estamos desarrollando el primer sistema personalizado de medicina herbal para la salud menstrual.  
          Cada cuerpo tiene un patrón único que merece un cuidado único.
        </p>
        <button id="take-quiz-btn" class="btn btn--primary" onclick="startSurvey()">Tomar el quiz</button>
      </section>

      <section class="elements-grid">
        <div class="element-card">
          <h3>Aire 🌬️</h3>
          <p class="element-pattern">Tono y Movimiento</p>
          <ul>
            <li>En equilibrio aporta claridad y flexibilidad</li>
            <li>En exceso produce tensión</li>
            <li>En deficiencia, produce laxitud o fatiga</li>
          </ul>
        </div>
        <div class="element-card">
          <h3>Fuego 🔥</h3>
          <p class="element-pattern">Temperatura y Vitalidad</p>
          <ul>
            <li>En equilibrio impulsa energía y digestión</li>
            <li>En exceso causa inflamación</li>
            <li>En deficiencia, lentitud y frío</li>
          </ul>
        </div>
        <div class="element-card">
          <h3>Agua 💧</h3>
          <p class="element-pattern">Fluidos y Nutrición</p>
          <ul>
            <li>En equilibrio brinda elasticidad y suavidad</li>
            <li>En exceso causa pesadez o estancamiento</li>
            <li>En deficiencia, resequedad o rigidez</li>
          </ul>
        </div>
        <div class="element-card">
          <h3>Tierra ⛰️</h3>
          <p class="element-pattern">Estructura y Sostén</p>
          <ul>
            <li>En equilibrio aporta estabilidad y arraigo</li>
            <li>En exceso causa rigidez y lentitud</li>
            <li>En deficiencia, sensación de dispersión o debilidad</li>
          </ul>
        </div>
      </section>
    </div>
  </div>

  <!-- ============ SURVEY PAGE ============ -->
  <div id="survey-page" class="page">
    <div class="container">
      <div id="survey-content"></div>
      <div class="progress-bar-container">
        <div id="progress-bar"></div>
        <div id="progress-text"></div>
      </div>
    </div>
  </div>

  <!-- ============ RESULTS PAGE ============ -->
  <div id="results-page" class="page">
    <header class="app-header">
      <h1 class="brand-name">🌿 Colita de Rana</h1>
    </header>

    <div class="results-container">
      <div class="results-card" id="results-card">
        <!-- Results will be dynamically injected here -->

        <!-- ✅ 3D Mapa energético replaces the old radar chart -->
        <section id="energy-map-section">
          <h3 class="energy-title">Mapa energético (balance relativo)</h3>
          <div id="energyMap3D" class="energy-map"></div>
          <p class="energy-caption">
            Spatial map of six classical tissue states along temperature, moisture, and tone polarities.
          </p>
        </section>

      </div>
    </div>
  </div>

  <!-- ============ WAITLIST SECTION ============ -->
  <footer id="waitlist-section" class="waitlist-footer">
    <div class="container">
      <h2>🌸 Únete a la lista de espera</h2>
      <p>Recibe acceso anticipado a tu plan herbal personalizado cuando lancemos.</p>
      <form id="main-waitlist-form">
        <input type="text" id="main-waitlist-name" placeholder="Tu nombre" required />
        <input type="email" id="main-waitlist-email" placeholder="Tu correo electrónico" required />
        <button type="submit" class="btn btn--primary">Unirme</button>
      </form>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script src="app.js"></script>
</body>
</html>
